  <%= form_with(model: [@place, @menu],
    data: { action: @menu.persisted? ? "turbo:submit-end->form#submitEnd" : "turbo:submit-end->form#resetForm", form_target: "form" },
    class: "menu-form") do |form| %>
  <% if menu.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(menu.errors.count, "error") %> prohibited this menu from being saved:</h2>
      <ul>
        <% menu.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="form-group">
    <%= form.label t('product_name'), style: "display: block" %>
    <%= form.text_field :name, placeholder: Menu.human_attribute_name('name'), autofocus: true, required: true, maxlength: 50 %>
  </div>
  <div class="form-group">
    <%= form.label t('product_description'), style: "display: block" %>
    <%= form.text_area :description, placeholder: Menu.human_attribute_name('description'), maxlength: 500 %>
  </div>
  <div class="select-wrapper" data-controller= "utils" data-utils-assets-value="<%= [t('files_selected'), t('no_file_selected')].to_json %>">
    <% if @menu.image.attached? %>
      <%= form.label t('change_image'), style: "display: block" %>
      <%= image_tag @menu.image, class: "menu-image" %>
    <% else %>
      <%= form.label t('.image_with_warning'), style: "display: block" %>
    <% end %>
    <span id="menu-upload-btn" data-utils-target="uploadBtn"><%= t(:no_file_selected) %></span>
    <%= form.file_field :image, accept: "image/jpeg,image/jpg,image/png,image/webp", data: { action: "change->utils#uploadFiles", content: t('select_image')} %>
  </div>
  <div>
    <%= form.label t('product_category'), style: "display: block" %>
    <%= form.select :product_category, Menu.product_categories.keys.map { |key| [t("product_categories.#{key}"), key] } %>
  </div>
  <div>
    <%= form.label t('price'), style: "display: block" %>
    <%= form.number_field :price, placeholder: "33", step: 0.5, class:"menu-item-price-input" %>
  </div>
  <div class="form-buttons">
    <%= form.submit t('submit'), class:"primary-green-btn", data: { turbo_confirm: t('sure') } %>
    <a href="#" class="turbo-cancel-btn"><%= t :nevermind %></a>
  </div>
<% end %>
